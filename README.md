# Решение трека no_flood_with_ai_aij2020 AIJ Junior UPD: данное решение позволило занять 1-е место в Junior номинации трека

## Файлы по критериям решения

* solution_amur.ipynb - ноутбук с пошаговым построением модели, коментариями.
* model_desc.pdf - файл с подробным описанием модери и ссылками на использованные материалы
* forecast.py - файл со скриптом для генерации прогноза. Помимо самих предсказаний выводит NSE предсказания отдельно для каждого поста. forecast.py создает и обучает моделль с нуля, 
чтобы исключить вохможность оверфита.

> В solution_amur.ipynb используется вывод на Google Карты. Если при запуске возникают проблемы, то вам необходимо зарегестрироваться на [Google Cloud Platform](https://console.cloud.google.com/home/dashboard?project=amurgeopostsmapping&hl=ru),
> создать проект, создать apikey и указать его как параметр *apikey* в ноутбуке **UPD: сдалав репозиторий публичным, я убрал свой api key, теперь для корректного запуска ноутбука вам нужно указать свой google cloud api key**

## Пояснения к запуску forecast.py

При создании Dockerfile в образ сразу записываются все нужные для запуска данные (срипт, датасеты). 
Для содания корректного образа **необходимо поместить файл forecast.py, requirements.txt, папку datasets и сам Dockerfile в одну папку**.

forecast.py ожидает, что папка datasets будет иметь точно такую же иерархию, что была в аналогичной папке, предоставленной организаторами. Файлы в подпапке processed_data **должны быть
за период с 1985 года по 2020 включительно**.

Обратите внимание, что сеть обучается только на данных, полученных до даты, с которой начинается предсказание. Если вы хотите получить предсказание на период с 1990-01-01 по 
1990-01-11, то сеть обучится только на данных за период с 1985 по 1989 год.

### Аргументы для `docker run`
* -p ./datasets/ - требуется, чтобы задать путь внутри контейнера. Обязательный аргумент.
* -l - длина периода, который будет подаваться в сеть для предсказания следующих n дней. Опциональный, по умолчанию равен 80.
* Строки через пробел в формате `YYYY-MM-DD`. **Обратите внимание, что длина предсказания может быть любой. Вы сами выбираете на сколько дней вперед делать прогноз.** 
Длина считается как разница между двумя датами.

### Примеры команд для запуска скрипта
 1. `docker build C:\Users\idkon\PycharmProjects\amur_forecast\ --tag amur_image `

 2. `docker run amur_image -p ./datasets/ 2017-01-01 2017-01-11 `
